<?xml version="1.0" encoding="UTF-8"?>

<ui:composition xmlns:tc="http://myfaces.apache.org/tobago/component"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns="http://www.w3.org/1999/xhtml">
  <f:view>
    <tc:page label="Fotografie" id="page">

      <tc:style file="#{request.contextPath}/base.css"/>
      <tc:script file="#{request.contextPath}/base.js"/>

      <tc:header fixed="true">
        <!-- tbd: how to solve this? -->
        <!--<tc:style customClass="bg-inverse"/>-->

        <tc:bar>
          <tc:style customClass="bg-light box-shadow navbar-expand-md"/>
          <f:facet name="brand">
            <tc:link label="Astronomie" link="#{request.contextPath}"/>
          </f:facet>

          <tc:links>
            <tc:link label="Blog" omit="true">
              <tc:link label="Winkelberechnung" link="#{request.contextPath}/grad.xhtml"/>
              <tc:link label="Fotoobjektiv vs. Maksutov"
                       link="#{request.contextPath}/2016-04-08/vergleich-zoom-200-maksutov-c90.xhtml"/>
              <tc:link label="Rauschen von Kameras" link="#{request.contextPath}/2016-10-22-rauschen/rauschen.xhtml"/>
            </tc:link>
            <tc:link label="Fotos">
              <f:ajax listener="#{pageController.toList}" render=":page:astro"/>
            </tc:link>
            <tc:link label="Hilfe" omit="true">
              <tc:link label="Ãœber">
                <tc:dataAttribute name="alert-text" value="Webframework: Tobago (http://myfaces.apache.org/tobago)"/>
              </tc:link>
              <tc:link label="Kontakt">
                <tc:dataAttribute name="alert-text" value="Elektro-Briefe an: webmaster @ schnurpfeil.de"/>
              </tc:link>
            </tc:link>
          </tc:links>

          <f:facet name="after">
            <tc:flexLayout columns="auto;auto">
              <tc:form>
                <tc:in placeholder="Search (todo)" labelLayout="skip">
                  <f:facet name="after">
                    <tc:button defaultCommand="true" omit="true" image="fa-search">
                      <tc:dataAttribute name="alert-text" value="Sorry: Search not implemented"/>
                    </tc:button>
                  </f:facet>
                </tc:in>
              </tc:form>
              <tc:button id="fullscreen" tip="Vollbild" image="fa-arrows-alt" omit="true"/>
            </tc:flexLayout>
          </f:facet>
        </tc:bar>
      </tc:header>

      <tc:messages/>

      <tc:panel id="astro">

        (including: #{pageController.current})

        <ui:include src="#{pageController.current}"/>

      </tc:panel>

    </tc:page>
  </f:view>
</ui:composition>
